"use strict";angular.module("websiteApp",["ngCookies","ngResource","ngSanitize","ui.bootstrap","ngDisqus"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/index.html",controller:"MainCtrl"}).when("/Mag",{templateUrl:"views/Mag.html",controller:"MagCtrl"}).when("/News",{templateUrl:"views/news.html",controller:"NewsCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!1).hashPrefix("!")}]),angular.module("websiteApp").controller("MainCtrl",["$scope","News",function(a,b){function c(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}var d=b.getNews();a.news=d,a.randFirstNews=c(d.slice(0,5))}]),angular.module("websiteApp").controller("MagCtrl",["$scope",function(){}]),angular.module("websiteApp").directive("tsNewsList",function(){return{templateUrl:"views/directives/news/newslist.html",restrict:"EACM",replace:!0,scope:{news:"=news"},link:function(){}}}),angular.module("websiteApp").filter("truncate",function(){return function(a,b,c){return isNaN(b)&&(b=10),void 0===c&&(c="..."),a.length<=b||a.length-c.length<=b?a:String(a).substring(0,b-c.length)+c}}),angular.module("websiteApp").filter("findImage",function(){return function(a){var b=/(https?:\/\/.*\.(?:png|jpg|svg|jpeg))(?![>|<|'|"])/gi;return a=b.exec(a),a=a?a[0]:"/images/Sflocon_vecteur_Transparent.png"}}),angular.module("websiteApp").directive("tsNewsCarousel",function(){return{templateUrl:"views/directives/news/carousel.html",restrict:"EACM",scope:{news:"="},link:function(a){a.interval=5e3}}}),angular.module("websiteApp").controller("NewsCtrl",["$scope","$routeParams","News",function(a,b,c){var d=b.id;a.news=c.getNews(d),a.disqusId="News"+d}]),angular.module("websiteApp").directive("tsPubSide",["Pub",function(a){return{templateUrl:"views/directives/pub/side.html",restrict:"EACM",link:function(b){var c=a.getVerticalBanner(),d=a.getSquareBanner();b.vertical=c[0],b.square1=d[0],b.square2=d.length>1?d[1]:d[0]}}}]),angular.module("websiteApp").directive("tsComments",function(){return window.disqus_shortname="tooski",{templateUrl:"views/directives/comments/comments.html",restrict:"EACM",link:function(){}}}),angular.module("websiteApp").factory("News",function(){var a=[{id:0,author:"Séb",title:"News n°0",content:'Mon super text, avec du html: <img src="http://www.google.ch/logos/doodles/2014/annette-von-droste-hulshoffs-217th-birthday-5701007384248320.2-hp.jpg" /><a href="http://tooski.ch"></a>',date:1389390694},{id:1,author:"Séb",title:"News n°1",content:'Mon super text, avec du html: <img src="http://www.fricktal24.ch/typo3temp/pics/Ski-Aerni_Luca_01_55d138efee.jpg" /><a href="http://tooski.ch"></a>',date:1389390695},{id:2,author:"Séb",title:"News n°2",content:'Mon super text, avec du html: <a href="https://tooski.ch"><img src="http://skiweltcup.tv/wp-content/themes/tvsportnews/images/09-aerni002-klein-swiss-ski.jpg" /></a>',date:1389390696},{id:0,author:"Séb",title:"News n°0",content:'Mon super text, avec du html: <img src="http://www.google.ch/logos/doodles/2014/annette-von-droste-hulshoffs-217th-birthday-5701007384248320.2-hp.jpg" /><a href="http://tooski.ch"></a>',date:1389390694},{id:1,author:"Séb",title:"News n°1",content:'Mon super text, avec du html: <img src="http://www.fricktal24.ch/typo3temp/pics/Ski-Aerni_Luca_01_55d138efee.jpg" /><a href="http://tooski.ch"></a>',date:1389390695},{id:2,author:"Séb",title:"News n°2",content:'Mon super text, avec du html: <a href="https://tooski.ch"><img src="http://skiweltcup.tv/wp-content/themes/tvsportnews/images/09-aerni002-klein-swiss-ski.jpg" /></a>',date:1389390696},{id:0,author:"Séb",title:"News n°0",content:'Mon super text, avec du html: <img src="http://www.google.ch/logos/doodles/2014/annette-von-droste-hulshoffs-217th-birthday-5701007384248320.2-hp.jpg" /><a href="http://tooski.ch"></a>',date:1389390694},{id:1,author:"Séb",title:"News n°1",content:'Mon super text, avec du html: <img src="http://www.fricktal24.ch/typo3temp/pics/Ski-Aerni_Luca_01_55d138efee.jpg" /><a href="http://tooski.ch"></a>',date:1389390695},{id:2,author:"Séb",title:"News n°2",content:'Mon super text, avec du html: <a href="https://tooski.ch"><img src="http://skiweltcup.tv/wp-content/themes/tvsportnews/images/09-aerni002-klein-swiss-ski.jpg" /></a>',date:1389390696}];return{getNews:function(b){return b?a[b]:a}}}),angular.module("websiteApp").directive("tsNavbar",function(){return{templateUrl:"views/directives/core/navbar.html",restrict:"EACM",replace:!0,link:function(){}}}),angular.module("websiteApp").factory("Pub",function(){var a=[{id:0,horizontal:0,vertical:1,square:0,img:"http://placehold.it/350x750"},{id:0,horizontal:0,vertical:0,square:1,img:"http://placehold.it/350x350"},{id:0,horizontal:0,vertical:0,square:1,img:"http://placehold.it/750x750"},{id:0,horizontal:1,vertical:0,square:0,img:"http://placehold.it/750x350"}],b=function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a};return a=b(a),{getVerticalBanner:function(){return a.filter(function(a){return 1===a.vertical}).reduce(function(a,b){return a.push(b.img),a},[])},getSquareBanner:function(){return a.filter(function(a){return 1===a.square}).reduce(function(a,b){return a.push(b.img),a},[])}}});